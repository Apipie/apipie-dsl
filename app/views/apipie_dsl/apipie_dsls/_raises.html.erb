<% show_metadata = raises.reject { |ex| ex[:metadata].blank? }.size > 0 %>

<table class="table table-bordered">
	<thead>
		<tr>
			<th><%= t('apipie_dsl.exeption', default: 'Exception') %></th>
			<th><%= t('apipie_dsl.exeption_description', default: [:description, 'Description']) %></th>
			<% if show_metadata %><th><%= t('apipie_dsl.exeption_metadata', default: [:metadata, 'Metadata']) %></th><% end %>
		</tr>
	</thead>

	<tbody>
		<% raises.each do |ex| %>
			<tr>
				<td><span class="label"> <%= ex[:error] %> </span></td>
				<td><%= ex[:description].html_safe %></td>
				<% if show_metadata %>
				<td><%= render(partial: 'metadata', locals: { meta: ex[:metadata] }) unless ex[:metadata].blank? %></td>
				<% end %>
			</tr>
		<% end %>
	</tbody>
</table>
